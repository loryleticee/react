{"ast":null,"code":"import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addMessage } from '../actions';\nconst dispatch = useDispatch();\nexport const ws = (webSocket = new WebSocket('ws://srrj6.sse.codesandbox.io')) => {\n  webSocket.onopen = () => {\n    // on connecting, do nothing but log it to the console\n    console.log('connected');\n  };\n\n  webSocket.onmessage = evt => {\n    // listen to data sent from the websocket server\n    const message = JSON.parse(evt.data); //this.setState({dataFromServer: message});\n\n    dispatch(addMessage(message));\n  };\n\n  return webSocket;\n};","map":{"version":3,"sources":["/Users/loryleticee/Sites/react/shop.labmediaground/src/services/websocket.js"],"names":["React","useDispatch","addMessage","dispatch","ws","webSocket","WebSocket","onopen","console","log","onmessage","evt","message","JSON","parse","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,UAAR,QAAyB,YAAzB;AAEA,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;AAEA,OAAO,MAAMG,EAAE,GAAG,CAAEC,SAAS,GAAG,IAAIC,SAAJ,CAAc,+BAAd,CAAd,KAAiE;AAE/ED,EAAAA,SAAS,CAACE,MAAV,GAAmB,MAAM;AACrB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,GAHD;;AAIAJ,EAAAA,SAAS,CAACK,SAAV,GAAsBC,GAAG,IAAI;AACzB;AACA,UAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAG,CAACI,IAAf,CAAhB,CAFyB,CAGzB;;AACAZ,IAAAA,QAAQ,CAACD,UAAU,CAACU,OAAD,CAAX,CAAR;AACH,GALD;;AAMA,SAAOP,SAAP;AACH,CAbM","sourcesContent":["import React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {addMessage} from '../actions';\n\nconst dispatch = useDispatch();\n\nexport const ws = ( webSocket = new WebSocket('ws://srrj6.sse.codesandbox.io') )=> {\n\n    webSocket.onopen = () => {\n        // on connecting, do nothing but log it to the console\n        console.log('connected')\n    };\n    webSocket.onmessage = evt => {\n        // listen to data sent from the websocket server\n        const message = JSON.parse(evt.data);\n        //this.setState({dataFromServer: message});\n        dispatch(addMessage(message));\n    };\n    return webSocket;\n};\n\n"]},"metadata":{},"sourceType":"module"}