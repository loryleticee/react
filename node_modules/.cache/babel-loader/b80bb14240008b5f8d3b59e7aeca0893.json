{"ast":null,"code":"import { ADD_MESSAGE, LOAD_MESSAGE_PENDING } from \"../actions\";\nconst INIT_STATE = [{\n  message: '¬ Hello world',\n  username: '@ Toto',\n  sendAt: new Date()\n}];\nexport const messageList = (state = INIT_STATE, action) => {\n  switch (action.type) {\n    case ADD_MESSAGE:\n      const ws = new WebSocket('ws://srrj6.sse.codesandbox.io');\n\n      ws.onopen = () => {\n        // on connecting, do nothing but log it to the console\n        console.log('connected');\n      };\n\n      ws.onmessage = evt => {\n        // listen to data sent from the websocket server\n        const message = JSON.parse(action.message); //this.setState({dataFromServer: message});\n\n        console.log(message);\n      };\n\n      return [...state, {\n        username: `@${action.username}`,\n        message: `¬ ${action.message}`,\n        sendAt: new Date()\n      }];\n\n    case LOAD_MESSAGE_PENDING:\n      return state;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/Users/loryleticee/Sites/react/shop.labmediaground/src/reducers/Chat.js"],"names":["ADD_MESSAGE","LOAD_MESSAGE_PENDING","INIT_STATE","message","username","sendAt","Date","messageList","state","action","type","ws","WebSocket","onopen","console","log","onmessage","evt","JSON","parse"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,oBAArB,QAAgD,YAAhD;AAEA,MAAMC,UAAU,GAAG,CACf;AACIC,EAAAA,OAAO,EAAG,eADd;AAEIC,EAAAA,QAAQ,EAAE,QAFd;AAGIC,EAAAA,MAAM,EAAI,IAAIC,IAAJ;AAHd,CADe,CAAnB;AAQA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGN,UAAT,EAAqBO,MAArB,KAAgC;AAEvD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,WAAL;AACI,YAAMW,EAAE,GAAG,IAAIC,SAAJ,CAAc,+BAAd,CAAX;;AACAD,MAAAA,EAAE,CAACE,MAAH,GAAY,MAAM;AACd;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACH,OAHD;;AAIAJ,MAAAA,EAAE,CAACK,SAAH,GAAeC,GAAG,IAAI;AAClB;AACA,cAAMd,OAAO,GAAGe,IAAI,CAACC,KAAL,CAAWV,MAAM,CAACN,OAAlB,CAAhB,CAFkB,CAGlB;;AACAW,QAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACH,OALD;;AAMA,aAAO,CAAC,GAAGK,KAAJ,EAAW;AACdJ,QAAAA,QAAQ,EAAE,IAAGK,MAAM,CAACL,QAAS,EADf;AAEdD,QAAAA,OAAO,EAAG,KAAIM,MAAM,CAACN,OAAQ,EAFf;AAGdE,QAAAA,MAAM,EAAE,IAAIC,IAAJ;AAHM,OAAX,CAAP;;AAMJ,SAAKL,oBAAL;AACI,aAAOO,KAAP;;AACJ;AACI,aAAOA,KAAP;AAtBR;AAwBH,CA1BM","sourcesContent":["import {ADD_MESSAGE, LOAD_MESSAGE_PENDING} from \"../actions\"\n\nconst INIT_STATE = [\n    {\n        message : '¬ Hello world',\n        username: '@ Toto',\n        sendAt  : new Date()\n    }\n];\n\nexport const messageList = (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n        case ADD_MESSAGE :\n            const ws = new WebSocket('ws://srrj6.sse.codesandbox.io');\n            ws.onopen = () => {\n                // on connecting, do nothing but log it to the console\n                console.log('connected')\n            };\n            ws.onmessage = evt => {\n                // listen to data sent from the websocket server\n                const message = JSON.parse(action.message);\n                //this.setState({dataFromServer: message});\n                console.log(message)\n            };\n            return [...state, {\n                username:`@${action.username}`,\n                message: `¬ ${action.message}`,\n                sendAt: new Date()\n            }];\n\n        case LOAD_MESSAGE_PENDING :\n            return state;\n        default :\n            return state;\n    }\n};"]},"metadata":{},"sourceType":"module"}